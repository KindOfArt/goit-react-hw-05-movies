"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[233],{233:function(e,t,r){r.r(t),r.d(t,{default:function(){return h}});var n=r(885),i=r(791),a=r(731),u=r(678),l=r(184),s=function(e){var t=e.getQuery,r=(0,i.useState)(""),u=(0,n.Z)(r,2),s=u[0],c=u[1],o=(0,a.lr)(),d=(0,n.Z)(o,2)[1];return(0,l.jsx)("div",{children:(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(s),c("")},children:[(0,l.jsxs)("label",{children:["Search a movie:",(0,l.jsx)("input",{value:s,onChange:function(e){var t=e.currentTarget.value;c(t),d(""!==t?{q:t}:{})},type:"text",name:"movies",placeholder:"search query",autoComplete:"off"})]}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{type:"submit",children:"Search"})})]})})},c=r(689),o=function(e){var t=e.id,r=e.title,n=e.release_date,i=(0,c.TH)();return(0,l.jsx)("li",{children:(0,l.jsx)("div",{children:(0,l.jsxs)(a.OL,{to:"".concat(t),state:{from:i},children:[r,n&&(0,l.jsxs)("span",{children:["(",n.slice(0,4),")"]})]})})})},d=function(e){var t=e.movies;return(0,l.jsx)("div",{children:(0,l.jsx)("ul",{children:t.map((function(e){var t=e.id,r=e.title,n=e.release_date;return(0,l.jsx)(o,{id:t,title:r,release_date:n},t)}))})})},h=function(){var e=(0,a.lr)(),t=(0,n.Z)(e,1)[0],r=(0,i.useState)((function(){var e;return null!==(e=t.get("q"))&&void 0!==e?e:""})),c=(0,n.Z)(r,2),o=c[0],h=c[1],f=(0,i.useState)([]),v=(0,n.Z)(f,2),m=v[0],x=v[1];return(0,i.useEffect)((function(){o&&(0,u.z1)(o).then((function(e){return e.results.map((function(e){return{id:e.id,title:e.title,release_date:e.release_date}}))})).then(x)}),[o]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s,{getQuery:h}),m.length>0?(0,l.jsx)(d,{movies:m}):null]})}}}]);
//# sourceMappingURL=233.5be2e900.chunk.js.map